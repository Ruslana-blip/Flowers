import{T as C}from"./TheButtonOrange-BURrrS7U.js";import{p as f,f as g,_ as p,o as i,c as r,b as o,t as _,F as B,d as k,a as h,w as v,r as m}from"./index-Bpck9g6B.js";const P=f("bagsStore",{state:()=>({bags:JSON.parse(localStorage.getItem("bags"))||[]}),actions:{addPlantInBag(e,s=1,n,u,d,c){const a=this.bags.find(l=>l.id===e);a?a.count+=s:this.bags.push({id:e,count:s,img:n,name:u,price:d,nameEN:c}),this.updateLocalStorage()},removePlantWithBag(e){this.bags=this.bags.filter(s=>s.id!==e),this.updateLocalStorage()},updatePlantCount(e,s){const n=this.bags.find(u=>u.id===e);n&&(s>0?n.count=s:this.removePlantWithBag(e),this.updateLocalStorage())},updateLocalStorage(){localStorage.setItem("bags",JSON.stringify(this.bags))},clearBags(){this.bags=[],this.updateLocalStorage()}}}),S={name:"TheProductCounter",data(){return{countProducts:this.count}},props:{count:{type:Number,required:!0},plantId:{type:Number}},computed:{currentCount(){return this.countProducts}},methods:{...g(P,["updatePlantCount","updateLocalStorage"]),decrementCount(){this.countProducts>1&&(this.countProducts--,this.updatePlantCount(this.plantId,this.countProducts))},incrementCount(){this.countProducts<10&&(this.countProducts++,this.updatePlantCount(this.plantId,this.countProducts))}},watch:{count(e){this.countProducts=e}}},y={class:"actions"},I=["disabled"],T={class:"actions__count"},L=["disabled"];function $(e,s,n,u,d,c){return i(),r("div",y,[o("button",{class:"actions__decrement",onClick:s[0]||(s[0]=(...a)=>c.decrementCount&&c.decrementCount(...a)),disabled:d.countProducts===1},null,8,I),o("span",T,_(c.currentCount),1),o("button",{class:"actions__increment",onClick:s[1]||(s[1]=(...a)=>c.incrementCount&&c.incrementCount(...a)),disabled:d.countProducts===10},null,8,L)])}const N=p(S,[["render",$],["__scopeId","data-v-573c6e6a"]]),O={name:"TheBagsItem",components:{TheProductCounter:N,TheButtonOrange:C},props:{bags:{type:Array},togglePopUpBag:{type:Function}},methods:{...g(P,["removePlantWithBag"])}},W={class:"plant"},w={class:"plant__cont"},E={key:0},F={class:"plant__image"},x=["src","title","alt"],A={class:"plant__content"},J={class:"plant__info"},R={class:"plant__name"},U={class:"plant__price"},V=["onClick"],q={key:1,class:"empty"},D={class:"empty__title"},j={class:"empty__desc"};function z(e,s,n,u,d,c){const a=m("TheProductCounter"),l=m("TheButtonOrange"),b=m("RouterLink");return i(),r("main",W,[o("div",w,[n.bags.length?(i(),r("ul",E,[(i(!0),r(B,null,k(n.bags,t=>(i(),r("li",{key:t.id,class:"plant__item"},[o("div",F,[o("img",{src:t==null?void 0:t.img,title:t==null?void 0:t.name,alt:t==null?void 0:t.name},null,8,x)]),o("div",A,[o("div",J,[o("span",R,_(e.$i18n.locale==="uk"?t.name:t.nameEN),1),o("span",U,_(t.count*(t==null?void 0:t.price))+" â‚´",1)]),h(a,{count:t.count,plantId:t.id},null,8,["count","plantId"])]),o("button",{class:"plant__remove",onClick:G=>e.removePlantWithBag(t==null?void 0:t.id)},null,8,V)]))),128))])):(i(),r("div",q,[o("h2",D,_(e.$t("bag-no-products-title")),1),o("p",j,_(e.$t("bag-check-products")),1),h(b,{to:{name:"TheCatalogPage"},onClick:n.togglePopUpBag},{default:v(()=>[h(l,{width:378,title:e.$t("return-catalog")},null,8,["title"])]),_:1},8,["onClick"])]))])])}const M=p(O,[["render",z],["__scopeId","data-v-7a68d7e3"]]);export{M as T,P as u};
