import{T as W}from"./TheSlider-CsKo-d2R.js";import{P as H}from"./PopUpBag-DMbuuTKN.js";import{T as L,a as E}from"./users-DdIZIjdB.js";import{T as O}from"./TheButtonOrange-BURrrS7U.js";import q from"./TheError-CDjYuGg4.js";import{u as h}from"./TheBagsItem-Cg0STnk2.js";import{u as U}from"./categories-BAZdND2H.js";import{_ as z,m as S,f as m,c as i,b as t,F,d as R,l as A,e as u,n as w,t as s,g,a as d,w as _,r,o}from"./index-Bpck9g6B.js";/* empty css                   */import"./TheFooter-B_OlN-40.js";import"./TheProfile-BHh0GFpJ.js";const j={name:"TheSinglePlantPage",components:{TheSlider:W,PopUpBag:H,TheTabsWrapper:L,TheTab:E,TheButtonOrange:O,TheError:q},data(){return{selectedImage:0,title:"Вам також може сподобатись",isPopUpVisible:!1,loading:!0,currentCount:1,selectedTab:0}},computed:{...S(U,["selectedPlant","newsPlants"]),...S(h,["bags"]),isDataExists(){return!!localStorage.getItem("newsPlants")},progressBarHeight(){var n;return this.selectedImage===null||!((n=this.selectedPlant)!=null&&n.img.length)?0:(this.selectedImage+1)/this.selectedPlant.img.length*684}},methods:{...m(h,["updatePlantCount","updateLocalStorage"]),...m(U,["getPlantById"]),...m(h,["addPlantInBag"]),getStatusClass(e){return e==="Новинки"?"plant__newPlants":e==="Розпродаж"?"plant__sales":e==="Топ продажів"?"plant__top":""},async fetchPlantData(){await this.getPlantById(this.$route.params.id)},selectImage(e){this.selectedImage=e},togglePopUpBag(){this.isPopUpVisible=!this.isPopUpVisible},addPlantToBag(){var e;this.selectedPlant&&(this.addPlantInBag(this.selectedPlant.id,this.currentCount,(e=this.selectedPlant)==null?void 0:e.img[0],this.selectedPlant.name,this.selectedPlant.price,this.selectedPlant.name_en),this.togglePopUpBag())},decrementCount(){this.currentCount>1&&(this.currentCount--,this.updatePlantCount(this.plantId,this.currentCount))},incrementCount(){this.currentCount<10&&(this.currentCount++,this.updatePlantCount(this.plantId,this.currentCount))},goToNextTab(e){this.selectedTab=e}},watch:{count(e){this.currentCount=e},"$route.params.id":"fetchPlantData"},async created(){localStorage.getItem("newsPlants")||await this.getStatusPlants()},async mounted(){await this.fetchPlantData()}},G={key:0,class:"plant"},J={class:"plant__container"},K={class:"plant__content"},M={class:"plant__images"},Q=["onClick"],X=["src","alt","title"],Y={key:0,class:"progressBar"},Z={key:1,class:"plant__image-active"},x=["src","alt","title"],ee={class:"plant__main"},te={class:"plant__name"},se={class:"plant__price"},le={key:0},ae={class:"plant__originalPrice"},ne={class:"plant__salesPrice"},ie={key:1},oe={class:"plant__height"},de={class:"plant__category"},ce={class:"plant__counter actions"},re=["disabled"],ue={class:"actions__count"},pe=["disabled"],he={key:0,class:"plant__overlay"},me={class:"tab__desc"},ge={class:"tab__desc"},_e={class:"tab__desc"},Pe={class:"tab__desc"},Te={class:"tab__desc"},be={class:"tab__desc"},Ce={key:1,class:"loader__wrapper"};function fe(e,n,ve,ke,l,a){var T,b,C,f,v,k,B,y,I;const V=r("TheButtonOrange"),$=r("PopUpBag"),P=r("TheTab"),N=r("TheTabsWrapper"),D=r("TheSlider");return e.selectedPlant?(o(),i("div",G,[t("div",J,[t("div",K,[t("div",M,[(o(!0),i(F,null,R((T=e.selectedPlant)==null?void 0:T.img,(c,p)=>(o(),i("div",{class:w(["plant__image",{active:l.selectedImage===p}]),key:p,onClick:Be=>a.selectImage(p)},[t("img",{src:c,alt:e.$i18n.locale==="uk"?e.selectedPlant.name:e.selectedPlant.name_en,title:e.$i18n.locale==="uk"?e.selectedPlant.name:e.selectedPlant.name_en},null,8,X)],10,Q))),128))]),(b=e.selectedPlant)!=null&&b.img.length?(o(),i("div",Y,[t("div",{class:"progressBar__width",style:A({height:a.progressBarHeight+"px"})},null,4)])):u("",!0),l.selectedImage!==null?(o(),i("div",Z,[t("img",{src:(C=e.selectedPlant)==null?void 0:C.img[l.selectedImage],alt:e.$i18n.locale==="uk"?e.selectedPlant.name:e.selectedPlant.name_en,title:e.$i18n.locale==="uk"?e.selectedPlant.name:e.selectedPlant.name_en},null,8,x)])):u("",!0),t("div",ee,[t("span",{class:w(a.getStatusClass((f=e.selectedPlant)==null?void 0:f.status))},s(e.$i18n.locale==="uk"?e.selectedPlant.status:e.selectedPlant.status_en),3),t("span",te,s(e.$i18n.locale==="uk"?e.selectedPlant.name:e.selectedPlant.name_en),1),t("div",se,[g(s(e.$t("price"))+": ",1),((v=e.selectedPlant)==null?void 0:v.status)==="Розпродаж"?(o(),i("div",le,[t("span",ae,s((k=e.selectedPlant)==null?void 0:k.price)+" ₴ ",1),t("span",ne,s(((B=e.selectedPlant)==null?void 0:B.price)*.7)+" ₴ ",1)])):(o(),i("div",ie,[t("span",null,s((y=e.selectedPlant)==null?void 0:y.price)+" ₴",1)]))]),t("span",oe,[t("span",null,s(e.$t("height"))+":",1),g(": "+s((I=e.selectedPlant)==null?void 0:I.height)+" "+s(e.$t("sm")),1)]),t("span",de,[t("span",null,s(e.$t("category"))+":",1),g(" "+s(e.$i18n.locale==="uk"?e.selectedPlant.category:e.selectedPlant.category_en),1)]),t("div",ce,[t("button",{class:"actions__decrement",onClick:n[0]||(n[0]=(...c)=>a.decrementCount&&a.decrementCount(...c)),disabled:l.currentCount===1},null,8,re),t("span",ue,s(l.currentCount),1),t("button",{class:"actions__increment",onClick:n[1]||(n[1]=(...c)=>a.incrementCount&&a.incrementCount(...c)),disabled:l.currentCount===10},null,8,pe)]),d(V,{onClick:a.addPlantToBag,title:e.$t("add-bag"),width:320},null,8,["onClick","title"])])]),l.isPopUpVisible?(o(),i("div",he,[d($,{isPopUpVisible:l.isPopUpVisible,togglePopUpBag:a.togglePopUpBag},null,8,["isPopUpVisible","togglePopUpBag"])])):u("",!0),d(N,{class:"tab",borderWidth:1,selectedTab:l.selectedTab,onUpdateTab:a.goToNextTab},{default:_(()=>[d(P,{title:e.$t("charac"),class:"tab__items",selectedTitle:l.selectedTab===0},{default:_(()=>[t("p",me,s(e.$i18n.locale==="uk"?e.selectedPlant.desc:e.selectedPlant.desc_en),1),t("p",ge,s(e.$i18n.locale==="uk"?e.selectedPlant.conditionsСare:e.selectedPlant.conditionsСare_en),1)]),_:1},8,["title","selectedTitle"]),d(P,{title:e.$t("care"),class:"tab__items",selectedTitle:l.selectedTab===1},{default:_(()=>[t("div",_e,[t("span",null,s(e.$t("soil"))+":",1),t("p",null,s(e.$i18n.locale==="uk"?e.selectedPlant.soilType:e.selectedPlant.soilType_en),1)]),t("div",Pe,[t("span",null,s(e.$t("light"))+":",1),t("p",null,s(e.$i18n.locale==="uk"?e.selectedPlant.lightRequirement:e.selectedPlant.lightRequirement_en),1)]),t("div",Te,[t("span",null,s(e.$t("temp"))+":",1),t("p",null,s(e.$i18n.locale==="uk"?e.selectedPlant.temperature:e.selectedPlant.temperature_en),1)]),t("div",be,[t("span",null,s(e.$t("soil"))+":",1),t("p",null,s(e.$i18n.locale==="uk"?e.selectedPlant.humidityLevel:e.selectedPlant.humidityLevel_en),1)])]),_:1},8,["title","selectedTitle"])]),_:1},8,["borderWidth","selectedTab","onUpdateTab"])]),d(D,{title:l.title,values:e.newsPlants},null,8,["title","values"])])):l.loading?(o(),i("div",Ce,n[2]||(n[2]=[t("div",{class:"loader"},null,-1)]))):u("",!0)}const Le=z(j,[["render",fe],["__scopeId","data-v-8d798af2"]]);export{Le as default};
