import{m as p,f as b,_ as P,o as g,c as u,b as t,t as a,h as o,v as m,i as _,j as n,a as f,e as x,r as d}from"./index-Bpck9g6B.js";import{u as c}from"./categories-BAZdND2H.js";import{T as F,a as C}from"./TheCatalogItem-BWF5YPfj.js";import"./PopUpBag-DMbuuTKN.js";import"./TheBagsItem-Cg0STnk2.js";import"./TheButtonOrange-BURrrS7U.js";const S={name:"TheFilter",emits:["plants-filtered"],data(){return{min:0,max:5e3,isSales:!1,isNewArrivals:!1,isTopSales:!1,currentCategory:null,categories:{isDecorativeFlorentem:!1,isFoliage:!1,isOrchidaceae:!1,isBonsai:!1,isSucculenta:!1,isCitrus:!1,isFlorariums:!1,isExotic:!1},height:{isSmall:!1,isMiddle:!1,isLarge:!1}}},computed:{...p(c,["catalog","selectedCategory"])},methods:{...b(c,["getAllPlants","getCategoryByName"]),filterPlants(){let r=this.catalog.filter(e=>e.price>=this.min&&e.price<=this.max);(this.isSales||this.isNewArrivals||this.isTopSales)&&(r=r.filter(e=>this.isSales&&e.status==="Розпродаж"||this.isNewArrivals&&e.status==="Новинки"||this.isTopSales&&e.status==="Топ продажів")),(this.categories.isFlorariums||this.categories.isDecorativeFlorentem||this.categories.isBonsai||this.categories.isCitrus||this.categories.isSucculenta||this.categories.isOrchidaceae||this.categories.isFoliage||this.categories.isExotic)&&(r=r.filter(e=>this.categories.isDecorativeFlorentem&&e.category==="Декоративно-квітучі"||this.categories.isFoliage&&e.category==="Декоративно-листяні"||this.categories.isOrchidaceae&&e.category==="Орхідеї"||this.categories.isBonsai&&e.category==="Бонсай"||this.categories.isSucculenta&&e.category==="Сукуленти"||this.categories.isCitrus&&e.category==="Цитрусові рослини"||this.categories.isFlorariums&&e.category==="Флораріуми"||this.categories.isExotic&&e.category==="Екзотичні рослини")),(this.height.isSmall||this.height.isMiddle||this.height.isLarge)&&(r=r.filter(e=>this.height.isSmall&&e.height<=70||this.height.isMiddle&&e.height>70&&e.height<=120||this.height.isLarge&&e.height>120&&e.height<=200)),r.length===0?this.$router.push({name:"TheError"}):this.$emit("plants-filtered",r)},resetFilter(){this.min=0,this.max=5e3,this.isSales=!1,this.isNewArrivals=!1,this.isTopSales=!1,this.categories.isDecorativeFlorentem=!1,this.categories.isFoliage=!1,this.categories.isOrchidaceae=!1,this.categories.isBonsai=!1,this.categories.isSucculenta=!1,this.categories.isCitrus=!1,this.categories.isFlorariums=!1,this.height.isSmall=!1,this.height.isMiddle=!1,this.height.isLarge=!1,this.filterPlants()},fetchCategory(){const r=this.$route.params.category;switch(this.categories.isDecorativeFlorentem=!1,this.categories.isFoliage=!1,this.categories.isOrchidaceae=!1,this.categories.isBonsai=!1,this.categories.isSucculenta=!1,this.categories.isCitrus=!1,this.categories.isFlorariums=!1,this.categories.isExotic=!1,r){case this.$t("flow-plants"):this.categories.isDecorativeFlorentem=!0;break;case this.$t("foliage"):this.categories.isFoliage=!0;break;case this.$t("orchids"):this.categories.isOrchidaceae=!0;break;case this.$t("bonsai"):this.categories.isBonsai=!0;break;case this.$t("succulents"):this.categories.isSucculenta=!0;break;case this.$t("citrus"):this.categories.isCitrus=!0;break;case this.$t("florariums"):this.categories.isFlorariums=!0;break;case this.$t("exotic"):this.categories.isExotic=!0;break;default:this.resetFilter()}this.filterPlants()}},watch:{"$route.params.category":"fetchCategory"},async mounted(){this.fetchCategory(),this.filterPlants()}},T={class:"filter"},w={class:"filter__price"},V={class:"filter__name"},U={class:"filter__columns"},B={class:"filter__column"},N={for:"from"},A={class:"filter__column"},D={for:"to"},E={class:"filter__type"},M={class:"filter__name"},O={class:"filter__checkboxes"},L={class:"filter__checkbox checkbox"},I={for:"sales"},K={class:"filter__checkbox checkbox"},j={for:"newsPlants"},q={class:"filter__checkbox checkbox"},z={for:"top"},G={class:"filter__categories"},H={class:"filter__name"},J={class:"filter__checkboxes"},Q={class:"filter__checkbox"},R={for:"decorativeFlorentem"},W={class:"filter__checkbox"},X={for:"foliage"},Y={class:"filter__checkbox"},Z={for:"orchidaceae"},$={class:"filter__checkbox"},ee={for:"bonsai"},se={class:"filter__checkbox"},te={for:"succulenta"},ie={class:"filter__checkbox"},le={for:"citrus"},re={class:"filter__checkbox"},ae={for:"florariums"},oe={class:"filter__checkbox"},ne={for:"exotic"},ce={class:"filter__height"},he={class:"filter__name"},fe={class:"filter__checkboxes"},de={class:"filter__checkbox"},ge={class:"filter__checkbox"},ue={class:"filter__checkbox"};function me(r,e,h,v,l,i){return g(),u("div",T,[t("div",w,[t("span",V,a(r.$t("price")),1),t("div",U,[t("div",B,[t("label",N,[o(t("input",{type:"text",id:"from",placeholder:"0 ₴","onUpdate:modelValue":e[0]||(e[0]=s=>l.min=s),onBlur:e[1]||(e[1]=(...s)=>i.filterPlants&&i.filterPlants(...s)),onKeyup:e[2]||(e[2]=_((...s)=>i.filterPlants&&i.filterPlants(...s),["enter"]))},null,544),[[m,l.min,void 0,{number:!0}]])])]),t("div",A,[t("label",D,[o(t("input",{type:"text",id:"to",placeholder:"5 000 ₴","onUpdate:modelValue":e[3]||(e[3]=s=>l.max=s),onBlur:e[4]||(e[4]=(...s)=>i.filterPlants&&i.filterPlants(...s)),onKeyup:e[5]||(e[5]=_((...s)=>i.filterPlants&&i.filterPlants(...s),["enter"]))},null,544),[[m,l.max,void 0,{number:!0}]])])])])]),t("div",E,[t("span",M,a(r.$t("type-offer")),1),t("div",O,[t("div",L,[o(t("input",{type:"checkbox",id:"sales","onUpdate:modelValue":e[6]||(e[6]=s=>l.isSales=s),onChange:e[7]||(e[7]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[n,l.isSales]]),t("label",I,a(r.$t("sale")),1)]),t("div",K,[o(t("input",{type:"checkbox",id:"newsPlants","onUpdate:modelValue":e[8]||(e[8]=s=>l.isNewArrivals=s),onChange:e[9]||(e[9]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[n,l.isNewArrivals]]),t("label",j,a(r.$t("novelty")),1)]),t("div",q,[o(t("input",{type:"checkbox",id:"top","onUpdate:modelValue":e[10]||(e[10]=s=>l.isTopSales=s),onChange:e[11]||(e[11]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[n,l.isTopSales]]),t("label",z,a(r.$t("top-sales")),1)])])]),t("div",G,[t("span",H,a(r.$t("categories")),1),t("div",J,[t("div",Q,[o(t("input",{type:"checkbox",id:"decorativeFlorentem","onUpdate:modelValue":e[12]||(e[12]=s=>l.categories.isDecorativeFlorentem=s),onChange:e[13]||(e[13]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[n,l.categories.isDecorativeFlorentem]]),t("label",R,a(r.$t("flow-plants")),1)]),t("div",W,[o(t("input",{type:"checkbox",id:"foliage","onUpdate:modelValue":e[14]||(e[14]=s=>l.categories.isFoliage=s),onChange:e[15]||(e[15]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[n,l.categories.isFoliage]]),t("label",X,a(r.$t("foliage")),1)]),t("div",Y,[o(t("input",{type:"checkbox",id:"orchidaceae","onUpdate:modelValue":e[16]||(e[16]=s=>l.categories.isOrchidaceae=s),onChange:e[17]||(e[17]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[n,l.categories.isOrchidaceae]]),t("label",Z,a(r.$t("orchids")),1)]),t("div",$,[o(t("input",{type:"checkbox",id:"bonsai","onUpdate:modelValue":e[18]||(e[18]=s=>l.categories.isBonsai=s),onChange:e[19]||(e[19]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[n,l.categories.isBonsai]]),t("label",ee,a(r.$t("bonsai")),1)]),t("div",se,[o(t("input",{type:"checkbox",id:"succulenta","onUpdate:modelValue":e[20]||(e[20]=s=>l.categories.isSucculenta=s),onChange:e[21]||(e[21]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[n,l.categories.isSucculenta]]),t("label",te,a(r.$t("succulents")),1)]),t("div",ie,[o(t("input",{type:"checkbox",id:"citrus","onUpdate:modelValue":e[22]||(e[22]=s=>l.categories.isCitrus=s),onChange:e[23]||(e[23]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[n,l.categories.isCitrus]]),t("label",le,a(r.$t("citrus")),1)]),t("div",re,[o(t("input",{type:"checkbox",id:"florariums","onUpdate:modelValue":e[24]||(e[24]=s=>l.categories.isFlorariums=s),onChange:e[25]||(e[25]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[n,l.categories.isFlorariums]]),t("label",ae,a(r.$t("florariums")),1)]),t("div",oe,[o(t("input",{type:"checkbox",id:"exotic","onUpdate:modelValue":e[26]||(e[26]=s=>l.categories.isExotic=s),onChange:e[27]||(e[27]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[n,l.categories.isExotic]]),t("label",ne,a(r.$t("exotic")),1)])])]),t("div",ce,[t("span",he,a(r.$t("height"))+" ("+a(r.$t("sm"))+")",1),t("div",fe,[t("div",de,[o(t("input",{type:"checkbox",id:"small","onUpdate:modelValue":e[28]||(e[28]=s=>l.height.isSmall=s),onChange:e[29]||(e[29]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[n,l.height.isSmall]]),e[35]||(e[35]=t("label",{for:"small"},"20-70",-1))]),t("div",ge,[o(t("input",{type:"checkbox",id:"middle","onUpdate:modelValue":e[30]||(e[30]=s=>l.height.isMiddle=s),onChange:e[31]||(e[31]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[n,l.height.isMiddle]]),e[36]||(e[36]=t("label",{for:"middle"},"70-120",-1))]),t("div",ue,[o(t("input",{type:"checkbox",id:"large","onUpdate:modelValue":e[32]||(e[32]=s=>l.height.isLarge=s),onChange:e[33]||(e[33]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[n,l.height.isLarge]]),e[37]||(e[37]=t("label",{for:"large"},"120-200",-1))])])]),t("button",{class:"filter__btn",onClick:e[34]||(e[34]=(...s)=>i.resetFilter&&i.resetFilter(...s))},a(r.$t("reset-filter")),1)])}const _e=P(S,[["render",me],["__scopeId","data-v-f85b1878"]]),pe={name:"TheCatalogPage",components:{TheNavigation:F,TheFilter:_e,TheCatalogItem:C},data(){return{filteredPlants:[],currentPlants:[],loading:!0}},computed:{...p(c,["catalog"])},methods:{...b(c,["getAllPlants"]),setFilteredPlants(r){this.filteredPlants=r,this.updatePage(1)},updatePage(r){const e=(r-1)*9,h=e+9;this.currentPlants=this.filteredPlants.slice(e,h)}},async mounted(){await this.getAllPlants(),this.setFilteredPlants(this.catalog)}},be={key:0,class:"plant"},Pe={class:"plant__container"},ve={key:1,class:"loader__wrapper"};function ke(r,e,h,v,l,i){const s=d("TheCatalogItem"),k=d("TheFilter"),y=d("TheNavigation");return l.currentPlants.length?(g(),u("div",be,[t("div",Pe,[f(s,{showPlants:l.currentPlants,class:"plant__item"},null,8,["showPlants"]),f(k,{class:"plant__filter",onPlantsFiltered:i.setFilteredPlants},null,8,["onPlantsFiltered"])]),f(y,{onShowPage:i.updatePage,"total-plants":l.filteredPlants,"cards-per-page":9},null,8,["onShowPage","total-plants"])])):l.loading?(g(),u("div",ve,e[0]||(e[0]=[t("div",{class:"loader"},null,-1)]))):x("",!0)}const we=P(pe,[["render",ke],["__scopeId","data-v-042e9e47"]]);export{we as default};
