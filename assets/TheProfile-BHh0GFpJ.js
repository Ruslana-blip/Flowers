import{T as p,a as g,F as v,b as U,E as N,u as f}from"./users-DdIZIjdB.js";import{T as A}from"./TheButtonOrange-BURrrS7U.js";import{_ as C,m as F,f as B,c as S,b as r,t as w,a as s,w as l,r as n,o as x}from"./index-Bpck9g6B.js";const y={name:"TheDropdown",components:{TheTabsWrapper:p,TheTab:g,VeeForm:v,Field:U,ErrorMessage:N,TheButtonOrange:A},data(){return{selectedTab:0}},props:{toggleCabinet:{type:Function},isCabinetOpen:{type:Boolean}},computed:{...F(f,["usersList"])},methods:{...B(f,["registerUser","isUserInUserList","setActiveUser"]),validateName(e){return e?/^[A-Za-zА-Яа-яІіЇїЄє'`]+$/.test(e)?!0:"Ім’я може містити лише букви та апостроф.":"Це поле є обов’язковим."},validateNumber(e){return e?/^\+380\d{9}$/.test(e)?!0:"Номер повинен містити 13 символів":"Це поле є обов’язковим."},handleLogin(e){const t=e.numberUser,o=Object.values(this.usersList).find(c=>c.number===t);o?(this.setActiveUser(o),this.$router.push({name:"TheAccountPage"}),this.toggleCabinet()):alert("Користувача не знайдено")},closeAndRegister(e){const t={name:e.name,number:e.number};t&&(this.registerUser(t),this.setActiveUser(t),this.$router.push({name:"TheAccountPage"}),this.toggleCabinet())},goToNextTab(e){this.selectedTab=e}}},R={class:"main"},E={class:"header"},L={class:"header__cont"},O={class:"form__field"},P={class:"form__field"},V={class:"form__field"};function W(e,t,o,c,i,a){const m=n("Field"),u=n("ErrorMessage"),d=n("TheButtonOrange"),_=n("VeeForm"),b=n("TheTab"),h=n("TheTabsWrapper");return x(),S("div",R,[r("header",E,[r("div",L,[r("span",null,w(e.$t("personal-account")),1),r("button",{class:"header__close",onClick:t[0]||(t[0]=(...T)=>o.toggleCabinet&&o.toggleCabinet(...T))})])]),s(h,{class:"actions",width:268,borderWidth:1,selectedTab:i.selectedTab,onUpdateTab:a.goToNextTab},{default:l(()=>[s(b,{title:e.$t("registration"),class:"actions__title",selectedTitle:i.selectedTab===0},{default:l(()=>[s(_,{class:"actions__form form",onSubmit:a.closeAndRegister},{default:l(()=>[r("div",O,[t[1]||(t[1]=r("label",{for:"name"},null,-1)),s(m,{rules:a.validateName,type:"text",id:"name",name:"name",class:"form__input"},null,8,["rules"]),s(u,{name:"name",class:"form__error"})]),r("div",P,[t[2]||(t[2]=r("label",{for:"number"},null,-1)),s(m,{rules:a.validateNumber,type:"tel",id:"number",name:"number",class:"form__input",value:"+380"},null,8,["rules"]),s(u,{name:"number",class:"form__error"})]),s(d,{title:e.$t("create-account"),width:400,class:"form__btn"},null,8,["title"])]),_:1},8,["onSubmit"])]),_:1},8,["title","selectedTitle"]),s(b,{title:e.$t("authorization"),class:"actions__title",selectedTitle:i.selectedTab===1},{default:l(()=>[s(_,{class:"actions__form form",onSubmit:a.handleLogin},{default:l(()=>[r("div",V,[t[3]||(t[3]=r("label",{for:"numberUser"},null,-1)),s(m,{rules:a.validateNumber,type:"tel",id:"numberUser",name:"numberUser",class:"form__input",value:"+380"},null,8,["rules"]),s(u,{name:"numberUser",class:"form__error"})]),s(d,{title:e.$t("log-in"),width:400,class:"form__btn"},null,8,["title"])]),_:1},8,["onSubmit"])]),_:1},8,["title","selectedTitle"])]),_:1},8,["borderWidth","selectedTab","onUpdateTab"])])}const D=C(y,[["render",W],["__scopeId","data-v-6f4e0dd1"]]);export{D as default};
